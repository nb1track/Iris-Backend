# =======================================
# SERVER
# =======================================
server.port=${PORT:8080}

# =======================================
# GCP SQL (POSTGRESQL)
# =======================================
spring.cloud.gcp.project-id=iris-471710
spring.cloud.gcp.sql.instance-connection-name=iris-471710:europe-west6:iris-db-main
spring.cloud.gcp.sql.database-name=iris

# --- Credentials (aus Cloud Run Secrets) ---
spring.datasource.username=postgres
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD} # WICHTIG! Verweist auf dein "iris-db-password" Secret
spring.datasource.driver-class-name=org.postgresql.Driver

# =======================================
# JPA & HIBERNATE
# =======================================
# Der korrekte Dialekt für PostGIS
spring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.postgis.PostGISDialect
spring.jpa.properties.hibernate.show_sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

# =======================================
# GOOGLE APIS (aus Cloud Run Secrets)
# =======================================
# Für GcsStorageService -> @Value("${gcs.bucket.name}")
gcs.bucket.name=${GCS_BUCKET_PHOTOS_NAME} # Passt zu deiner Cloud Run Variable

# Für GoogleApiConfig -> @Value("${gcp.maps.api-key}")
gcp.maps.api-key=${GCP_MAPS_API_KEY} # Passt zu deinem "google-maps-api-key" Secret

# =======================================
# FIREBASE (aus Cloud Run Secrets)
# =======================================
# Für FirebaseConfig -> @Value("${SPRING_APPLICATION_JSON:}")
# (Wir mappen das Secret auf die Property)
SPRING_APPLICATION_JSON=${SPRING_APPLICATION_JSON}